services:
    _defaults:
        autowire: true
        autoconfigure: true

    _instanceof:
        M10c\ContentElements\Dimension\DimensionInterface:
            tags: ['m10c.content_elements.dimension']
        M10c\ContentElements\Filter\FilterInterface:
            tags: ['m10c.content_elements.filter']
        M10c\ContentElements\Api\Filter\VariantOrderSelectorInterface:
            tags: ['m10c.content_elements.variant_order_selector']

    M10c\ContentElements\:
        resource: '../src/'
        exclude:
            - '../src/M10cContentElementsBundle.php'
            - '../src/Traits/'

    M10c\ContentElements\Api\Filter\VariantOrderFilter:
        arguments:
            $variantSelectors: !tagged_iterator m10c.content_elements.variant_order_selector

    # Interface aliases for type-hinting and decoration
    M10c\ContentElements\Finder\VariantHydratorInterface:
        alias: M10c\ContentElements\Finder\VariantHydrator
